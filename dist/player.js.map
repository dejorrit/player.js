{"version":3,"file":"player.js.map","sources":["../src/lib/compatibility-check.js","../node_modules/native-promise-only/lib/npo.src.js","../src/lib/callbacks.js","../src/lib/functions.js","../src/lib/embed.js","../src/lib/postmessage.js","../src/player.js"],"sourcesContent":["const arrayIndexOfSupport = typeof Array.prototype.indexOf !== 'undefined';\nconst postMessageSupport = typeof window.postMessage !== 'undefined';\n\nif (!arrayIndexOfSupport || !postMessageSupport) {\n    throw new Error('Sorry, the Vimeo Player API is not available in this browser.');\n}\n","/*! Native Promise Only\n    v0.8.1 (c) Kyle Simpson\n    MIT License: http://getify.mit-license.org\n*/\n\n(function UMD(name,context,definition){\n\t// special form of UMD for polyfilling across evironments\n\tcontext[name] = context[name] || definition();\n\tif (typeof module != \"undefined\" && module.exports) { module.exports = context[name]; }\n\telse if (typeof define == \"function\" && define.amd) { define(function $AMD$(){ return context[name]; }); }\n})(\"Promise\",typeof global != \"undefined\" ? global : this,function DEF(){\n\t/*jshint validthis:true */\n\t\"use strict\";\n\n\tvar builtInProp, cycle, scheduling_queue,\n\t\tToString = Object.prototype.toString,\n\t\ttimer = (typeof setImmediate != \"undefined\") ?\n\t\t\tfunction timer(fn) { return setImmediate(fn); } :\n\t\t\tsetTimeout\n\t;\n\n\t// dammit, IE8.\n\ttry {\n\t\tObject.defineProperty({},\"x\",{});\n\t\tbuiltInProp = function builtInProp(obj,name,val,config) {\n\t\t\treturn Object.defineProperty(obj,name,{\n\t\t\t\tvalue: val,\n\t\t\t\twritable: true,\n\t\t\t\tconfigurable: config !== false\n\t\t\t});\n\t\t};\n\t}\n\tcatch (err) {\n\t\tbuiltInProp = function builtInProp(obj,name,val) {\n\t\t\tobj[name] = val;\n\t\t\treturn obj;\n\t\t};\n\t}\n\n\t// Note: using a queue instead of array for efficiency\n\tscheduling_queue = (function Queue() {\n\t\tvar first, last, item;\n\n\t\tfunction Item(fn,self) {\n\t\t\tthis.fn = fn;\n\t\t\tthis.self = self;\n\t\t\tthis.next = void 0;\n\t\t}\n\n\t\treturn {\n\t\t\tadd: function add(fn,self) {\n\t\t\t\titem = new Item(fn,self);\n\t\t\t\tif (last) {\n\t\t\t\t\tlast.next = item;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tfirst = item;\n\t\t\t\t}\n\t\t\t\tlast = item;\n\t\t\t\titem = void 0;\n\t\t\t},\n\t\t\tdrain: function drain() {\n\t\t\t\tvar f = first;\n\t\t\t\tfirst = last = cycle = void 0;\n\n\t\t\t\twhile (f) {\n\t\t\t\t\tf.fn.call(f.self);\n\t\t\t\t\tf = f.next;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t})();\n\n\tfunction schedule(fn,self) {\n\t\tscheduling_queue.add(fn,self);\n\t\tif (!cycle) {\n\t\t\tcycle = timer(scheduling_queue.drain);\n\t\t}\n\t}\n\n\t// promise duck typing\n\tfunction isThenable(o) {\n\t\tvar _then, o_type = typeof o;\n\n\t\tif (o != null &&\n\t\t\t(\n\t\t\t\to_type == \"object\" || o_type == \"function\"\n\t\t\t)\n\t\t) {\n\t\t\t_then = o.then;\n\t\t}\n\t\treturn typeof _then == \"function\" ? _then : false;\n\t}\n\n\tfunction notify() {\n\t\tfor (var i=0; i<this.chain.length; i++) {\n\t\t\tnotifyIsolated(\n\t\t\t\tthis,\n\t\t\t\t(this.state === 1) ? this.chain[i].success : this.chain[i].failure,\n\t\t\t\tthis.chain[i]\n\t\t\t);\n\t\t}\n\t\tthis.chain.length = 0;\n\t}\n\n\t// NOTE: This is a separate function to isolate\n\t// the `try..catch` so that other code can be\n\t// optimized better\n\tfunction notifyIsolated(self,cb,chain) {\n\t\tvar ret, _then;\n\t\ttry {\n\t\t\tif (cb === false) {\n\t\t\t\tchain.reject(self.msg);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (cb === true) {\n\t\t\t\t\tret = self.msg;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tret = cb.call(void 0,self.msg);\n\t\t\t\t}\n\n\t\t\t\tif (ret === chain.promise) {\n\t\t\t\t\tchain.reject(TypeError(\"Promise-chain cycle\"));\n\t\t\t\t}\n\t\t\t\telse if (_then = isThenable(ret)) {\n\t\t\t\t\t_then.call(ret,chain.resolve,chain.reject);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tchain.resolve(ret);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcatch (err) {\n\t\t\tchain.reject(err);\n\t\t}\n\t}\n\n\tfunction resolve(msg) {\n\t\tvar _then, self = this;\n\n\t\t// already triggered?\n\t\tif (self.triggered) { return; }\n\n\t\tself.triggered = true;\n\n\t\t// unwrap\n\t\tif (self.def) {\n\t\t\tself = self.def;\n\t\t}\n\n\t\ttry {\n\t\t\tif (_then = isThenable(msg)) {\n\t\t\t\tschedule(function(){\n\t\t\t\t\tvar def_wrapper = new MakeDefWrapper(self);\n\t\t\t\t\ttry {\n\t\t\t\t\t\t_then.call(msg,\n\t\t\t\t\t\t\tfunction $resolve$(){ resolve.apply(def_wrapper,arguments); },\n\t\t\t\t\t\t\tfunction $reject$(){ reject.apply(def_wrapper,arguments); }\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tcatch (err) {\n\t\t\t\t\t\treject.call(def_wrapper,err);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\telse {\n\t\t\t\tself.msg = msg;\n\t\t\t\tself.state = 1;\n\t\t\t\tif (self.chain.length > 0) {\n\t\t\t\t\tschedule(notify,self);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcatch (err) {\n\t\t\treject.call(new MakeDefWrapper(self),err);\n\t\t}\n\t}\n\n\tfunction reject(msg) {\n\t\tvar self = this;\n\n\t\t// already triggered?\n\t\tif (self.triggered) { return; }\n\n\t\tself.triggered = true;\n\n\t\t// unwrap\n\t\tif (self.def) {\n\t\t\tself = self.def;\n\t\t}\n\n\t\tself.msg = msg;\n\t\tself.state = 2;\n\t\tif (self.chain.length > 0) {\n\t\t\tschedule(notify,self);\n\t\t}\n\t}\n\n\tfunction iteratePromises(Constructor,arr,resolver,rejecter) {\n\t\tfor (var idx=0; idx<arr.length; idx++) {\n\t\t\t(function IIFE(idx){\n\t\t\t\tConstructor.resolve(arr[idx])\n\t\t\t\t.then(\n\t\t\t\t\tfunction $resolver$(msg){\n\t\t\t\t\t\tresolver(idx,msg);\n\t\t\t\t\t},\n\t\t\t\t\trejecter\n\t\t\t\t);\n\t\t\t})(idx);\n\t\t}\n\t}\n\n\tfunction MakeDefWrapper(self) {\n\t\tthis.def = self;\n\t\tthis.triggered = false;\n\t}\n\n\tfunction MakeDef(self) {\n\t\tthis.promise = self;\n\t\tthis.state = 0;\n\t\tthis.triggered = false;\n\t\tthis.chain = [];\n\t\tthis.msg = void 0;\n\t}\n\n\tfunction Promise(executor) {\n\t\tif (typeof executor != \"function\") {\n\t\t\tthrow TypeError(\"Not a function\");\n\t\t}\n\n\t\tif (this.__NPO__ !== 0) {\n\t\t\tthrow TypeError(\"Not a promise\");\n\t\t}\n\n\t\t// instance shadowing the inherited \"brand\"\n\t\t// to signal an already \"initialized\" promise\n\t\tthis.__NPO__ = 1;\n\n\t\tvar def = new MakeDef(this);\n\n\t\tthis[\"then\"] = function then(success,failure) {\n\t\t\tvar o = {\n\t\t\t\tsuccess: typeof success == \"function\" ? success : true,\n\t\t\t\tfailure: typeof failure == \"function\" ? failure : false\n\t\t\t};\n\t\t\t// Note: `then(..)` itself can be borrowed to be used against\n\t\t\t// a different promise constructor for making the chained promise,\n\t\t\t// by substituting a different `this` binding.\n\t\t\to.promise = new this.constructor(function extractChain(resolve,reject) {\n\t\t\t\tif (typeof resolve != \"function\" || typeof reject != \"function\") {\n\t\t\t\t\tthrow TypeError(\"Not a function\");\n\t\t\t\t}\n\n\t\t\t\to.resolve = resolve;\n\t\t\t\to.reject = reject;\n\t\t\t});\n\t\t\tdef.chain.push(o);\n\n\t\t\tif (def.state !== 0) {\n\t\t\t\tschedule(notify,def);\n\t\t\t}\n\n\t\t\treturn o.promise;\n\t\t};\n\t\tthis[\"catch\"] = function $catch$(failure) {\n\t\t\treturn this.then(void 0,failure);\n\t\t};\n\n\t\ttry {\n\t\t\texecutor.call(\n\t\t\t\tvoid 0,\n\t\t\t\tfunction publicResolve(msg){\n\t\t\t\t\tresolve.call(def,msg);\n\t\t\t\t},\n\t\t\t\tfunction publicReject(msg) {\n\t\t\t\t\treject.call(def,msg);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t\tcatch (err) {\n\t\t\treject.call(def,err);\n\t\t}\n\t}\n\n\tvar PromisePrototype = builtInProp({},\"constructor\",Promise,\n\t\t/*configurable=*/false\n\t);\n\n\t// Note: Android 4 cannot use `Object.defineProperty(..)` here\n\tPromise.prototype = PromisePrototype;\n\n\t// built-in \"brand\" to signal an \"uninitialized\" promise\n\tbuiltInProp(PromisePrototype,\"__NPO__\",0,\n\t\t/*configurable=*/false\n\t);\n\n\tbuiltInProp(Promise,\"resolve\",function Promise$resolve(msg) {\n\t\tvar Constructor = this;\n\n\t\t// spec mandated checks\n\t\t// note: best \"isPromise\" check that's practical for now\n\t\tif (msg && typeof msg == \"object\" && msg.__NPO__ === 1) {\n\t\t\treturn msg;\n\t\t}\n\n\t\treturn new Constructor(function executor(resolve,reject){\n\t\t\tif (typeof resolve != \"function\" || typeof reject != \"function\") {\n\t\t\t\tthrow TypeError(\"Not a function\");\n\t\t\t}\n\n\t\t\tresolve(msg);\n\t\t});\n\t});\n\n\tbuiltInProp(Promise,\"reject\",function Promise$reject(msg) {\n\t\treturn new this(function executor(resolve,reject){\n\t\t\tif (typeof resolve != \"function\" || typeof reject != \"function\") {\n\t\t\t\tthrow TypeError(\"Not a function\");\n\t\t\t}\n\n\t\t\treject(msg);\n\t\t});\n\t});\n\n\tbuiltInProp(Promise,\"all\",function Promise$all(arr) {\n\t\tvar Constructor = this;\n\n\t\t// spec mandated checks\n\t\tif (ToString.call(arr) != \"[object Array]\") {\n\t\t\treturn Constructor.reject(TypeError(\"Not an array\"));\n\t\t}\n\t\tif (arr.length === 0) {\n\t\t\treturn Constructor.resolve([]);\n\t\t}\n\n\t\treturn new Constructor(function executor(resolve,reject){\n\t\t\tif (typeof resolve != \"function\" || typeof reject != \"function\") {\n\t\t\t\tthrow TypeError(\"Not a function\");\n\t\t\t}\n\n\t\t\tvar len = arr.length, msgs = Array(len), count = 0;\n\n\t\t\titeratePromises(Constructor,arr,function resolver(idx,msg) {\n\t\t\t\tmsgs[idx] = msg;\n\t\t\t\tif (++count === len) {\n\t\t\t\t\tresolve(msgs);\n\t\t\t\t}\n\t\t\t},reject);\n\t\t});\n\t});\n\n\tbuiltInProp(Promise,\"race\",function Promise$race(arr) {\n\t\tvar Constructor = this;\n\n\t\t// spec mandated checks\n\t\tif (ToString.call(arr) != \"[object Array]\") {\n\t\t\treturn Constructor.reject(TypeError(\"Not an array\"));\n\t\t}\n\n\t\treturn new Constructor(function executor(resolve,reject){\n\t\t\tif (typeof resolve != \"function\" || typeof reject != \"function\") {\n\t\t\t\tthrow TypeError(\"Not a function\");\n\t\t\t}\n\n\t\t\titeratePromises(Constructor,arr,function resolver(idx,msg){\n\t\t\t\tresolve(msg);\n\t\t\t},reject);\n\t\t});\n\t});\n\n\treturn Promise;\n});\n","/**\n * @module lib/callbacks\n */\n\nexport const callbackMap = new WeakMap();\n\n/**\n * Store a callback for a method or event for a player.\n *\n * @author Brad Dougherty <brad@vimeo.com>\n * @param {Player} player The player object.\n * @param {string} name The method or event name.\n * @param {(function(this:Player, *): void|{resolve: function, reject: function})} callback\n *        The callback to call or an object with resolve and reject functions for a promise.\n * @return {void}\n */\nexport function storeCallback(player, name, callback) {\n    const playerCallbacks = callbackMap.get(player.element) || {};\n\n    if (!(name in playerCallbacks)) {\n        playerCallbacks[name] = [];\n    }\n\n    playerCallbacks[name].push(callback);\n    callbackMap.set(player.element, playerCallbacks);\n}\n\n/**\n * Get the callbacks for a player and event or method.\n *\n * @author Brad Dougherty <brad@vimeo.com>\n * @param {Player} player The player object.\n * @param {string} name The method or event name\n * @return {function[]}\n */\nexport function getCallbacks(player, name) {\n    const playerCallbacks = callbackMap.get(player.element) || {};\n    return playerCallbacks[name] || [];\n}\n\n/**\n * Remove a stored callback for a method or event for a player.\n *\n * @author Brad Dougherty <brad@vimeo.com>\n * @param {Player} player The player object.\n * @param {string} name The method or event name\n * @param {function} [callback] The specific callback to remove.\n * @return {boolean} Was this the last callback?\n */\nexport function removeCallback(player, name, callback) {\n    const playerCallbacks = callbackMap.get(player.element) || {};\n\n    if (!playerCallbacks[name]) {\n        return true;\n    }\n\n    // If no callback is passed, remove all callbacks for the event\n    if (!callback) {\n        playerCallbacks[name] = [];\n        callbackMap.set(player.element, playerCallbacks);\n\n        return true;\n    }\n\n    const index = playerCallbacks[name].indexOf(callback);\n\n    if (index !== -1) {\n        playerCallbacks[name].splice(index, 1);\n    }\n\n    callbackMap.set(player.element, playerCallbacks);\n    return playerCallbacks[name] && playerCallbacks[name].length === 0;\n}\n\n/**\n * Return the first stored callback for a player and event or method.\n *\n * @param {Player} player The player object.\n * @param {string} name The method or event name.\n * @return {function} The callback, or false if there were none\n */\nexport function shiftCallbacks(player, name) {\n    const playerCallbacks = getCallbacks(player, name);\n\n    if (playerCallbacks.length < 1) {\n        return false;\n    }\n\n    const callback = playerCallbacks.shift();\n    removeCallback(player, name, callback);\n    return callback;\n}\n\n/**\n * Move callbacks associated with an element to another element.\n *\n * @author Brad Dougherty <brad@vimeo.com>\n * @param {HTMLElement} oldElement The old element.\n * @param {HTMLElement} newElement The new element.\n * @return {void}\n */\nexport function swapCallbacks(oldElement, newElement) {\n    const playerCallbacks = callbackMap.get(oldElement);\n\n    callbackMap.set(newElement, playerCallbacks);\n    callbackMap.delete(oldElement);\n}\n","/**\n * @module lib/functions\n */\n\n/**\n * Get the name of the method for a given getter or setter.\n *\n * @author Brad Dougherty <brad@vimeo.com>\n * @param {string} prop The name of the property.\n * @param {string} type Either “get” or “set”.\n * @return {string}\n */\nexport function getMethodName(prop, type) {\n    if (prop.indexOf(type.toLowerCase()) === 0) {\n        return prop;\n    }\n\n    return `${type.toLowerCase()}${prop.substr(0, 1).toUpperCase()}${prop.substr(1)}`;\n}\n\n/**\n * Check to see if the object is a DOM Element.\n *\n * @author Brad Dougherty <brad@vimeo.com>\n * @param {*} element The object to check.\n * @return {boolean}\n */\nexport function isDomElement(element) {\n    return element instanceof window.HTMLElement;\n}\n\n/**\n * Check to see whether the value is a number.\n *\n * @author Brad Dougherty <brad@vimeo.com>\n * @see http://dl.dropboxusercontent.com/u/35146/js/tests/isNumber.html\n * @param {*} value The value to check.\n * @param {boolean} integer Check if the value is an integer.\n * @return {boolean}\n */\nexport function isInteger(value) {\n    // eslint-disable-next-line eqeqeq\n    return !isNaN(parseFloat(value)) && isFinite(value) && Math.floor(value) == value;\n}\n\n/**\n * Check to see if the URL is a Vimeo url.\n *\n * @author Brad Dougherty <brad@vimeo.com>\n * @param {string} url The url string.\n * @return {boolean}\n */\nexport function isVimeoUrl(url) {\n    return (/^(https?:)?\\/\\/((player|www).)?vimeo.com(?=$|\\/)/).test(url);\n}\n\n/**\n * Get the Vimeo URL from an element.\n * The element must have either a data-vimeo-id or data-vimeo-url attribute.\n *\n * @author Brad Dougherty <brad@vimeo.com>\n * @param {object} oEmbedParameters The oEmbed parameters.\n * @return {string}\n */\nexport function getVimeoUrl(oEmbedParameters = {}) {\n    const id = oEmbedParameters.id;\n    const url = oEmbedParameters.url;\n    const idOrUrl = id || url;\n\n    if (!idOrUrl) {\n        throw new Error('An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.');\n    }\n\n    if (isInteger(idOrUrl)) {\n        return `https://vimeo.com/${idOrUrl}`;\n    }\n\n    if (isVimeoUrl(idOrUrl)) {\n        return idOrUrl.replace('http:', 'https:');\n    }\n\n    if (id) {\n        throw new TypeError(`“${id}” is not a valid video id.`);\n    }\n\n    throw new TypeError(`“${idOrUrl}” is not a vimeo.com url.`);\n}\n","/**\n * @module lib/embed\n */\n\nimport { isVimeoUrl, getVimeoUrl } from './functions';\n\nconst oEmbedParameters = [\n    'id',\n    'url',\n    'width',\n    'maxwidth',\n    'height',\n    'maxheight',\n    'portrait',\n    'title',\n    'byline',\n    'color',\n    'autoplay',\n    'autopause',\n    'loop',\n    'responsive'\n];\n\n/**\n * Get the 'data-vimeo'-prefixed attributes from an element as an object.\n *\n * @author Brad Dougherty <brad@vimeo.com>\n * @param {HTMLElement} element The element.\n * @param {Object} [defaults={}] The default values to use.\n * @return {Object<string, string>}\n */\nexport function getOEmbedParameters(element, defaults = {}) {\n    return oEmbedParameters.reduce((params, param) => {\n        const value = element.getAttribute(`data-vimeo-${param}`);\n\n        if (value || value === '') {\n            params[param] = value === '' ? 1 : value;\n        }\n\n        return params;\n    }, defaults);\n}\n\n/**\n * Make an oEmbed call for the specified URL.\n *\n * @author Brad Dougherty <brad@vimeo.com>\n * @param {string} videoUrl The vimeo.com url for the video.\n * @param {Object} [params] Parameters to pass to oEmbed.\n * @return {Promise}\n */\nexport function getOEmbedData(videoUrl, params = {}) {\n    return new Promise((resolve, reject) => {\n        if (!isVimeoUrl(videoUrl)) {\n            throw new TypeError(`“${videoUrl}” is not a vimeo.com url.`);\n        }\n\n        let url = `https://vimeo.com/api/oembed.json?url=${encodeURIComponent(videoUrl)}`;\n\n        for (const param in params) {\n            if (params.hasOwnProperty(param)) {\n                url += `&${param}=${encodeURIComponent(params[param])}`;\n            }\n        }\n\n        const xhr = 'XDomainRequest' in window ? new XDomainRequest() : new XMLHttpRequest();\n        xhr.open('GET', url, true);\n\n        xhr.onload = function() {\n            if (xhr.status === 404) {\n                reject(new Error(`“${videoUrl}” was not found.`));\n                return;\n            }\n\n            if (xhr.status === 403) {\n                reject(new Error(`“${videoUrl}” is not embeddable.`));\n                return;\n            }\n\n            try {\n                const json = JSON.parse(xhr.responseText);\n                resolve(json);\n            }\n            catch (error) {\n                reject(error);\n            }\n        };\n\n        xhr.onerror = function() {\n            const status = xhr.status ? ` (${xhr.status})` : '';\n            reject(new Error(`There was an error fetching the embed code from Vimeo${status}.`));\n        };\n\n        xhr.send();\n    });\n}\n\n/**\n * Create an embed from oEmbed data inside an element.\n *\n * @author Brad Dougherty <brad@vimeo.com>\n * @param {object} data The oEmbed data.\n * @param {HTMLElement} element The element to put the iframe in.\n * @return {HTMLIFrameElement} The iframe embed.\n */\nexport function createEmbed({ html }, element) {\n    if (!element) {\n        throw new TypeError('An element must be provided');\n    }\n\n    if (element.getAttribute('data-vimeo-initialized') !== null) {\n        return element.querySelector('iframe');\n    }\n\n    const div = document.createElement('div');\n    div.innerHTML = html;\n\n    element.appendChild(div.firstChild);\n    element.setAttribute('data-vimeo-initialized', 'true');\n\n    return element.querySelector('iframe');\n}\n\n/**\n * Initialize all embeds within a specific element\n *\n * @author Brad Dougherty <brad@vimeo.com>\n * @param {HTMLElement} [parent=document] The parent element.\n * @return {void}\n */\nexport function initializeEmbeds(parent = document) {\n    const elements = [].slice.call(parent.querySelectorAll('[data-vimeo-id], [data-vimeo-url]'));\n\n    const handleError = (error) => {\n        if ('console' in window && console.error) {\n            console.error(`There was an error creating an embed: ${error}`);\n        }\n    };\n\n    elements.forEach((element) => {\n        try {\n            // Skip any that have data-vimeo-defer\n            if (element.getAttribute('data-vimeo-defer') !== null) {\n                return;\n            }\n\n            const params = getOEmbedParameters(element);\n            const url = getVimeoUrl(params);\n\n            getOEmbedData(url, params).then((data) => {\n                return createEmbed(data, element);\n            }).catch(handleError);\n        }\n        catch (error) {\n            handleError(error);\n        }\n    });\n}\n\n/**\n * Resize embeds when messaged by the player.\n *\n * @author Brad Dougherty <brad@vimeo.com>\n * @param {HTMLElement} [parent=document] The parent element.\n * @return {void}\n */\nexport function resizeEmbeds(parent = document) {\n    const onMessage = (event) => {\n        if (!isVimeoUrl(event.origin)) {\n            return;\n        }\n\n        if (!event.data || event.data.event !== 'spacechange') {\n            return;\n        }\n\n        const iframes = parent.querySelectorAll('iframe');\n\n        for (let i = 0; i < iframes.length; i++) {\n            if (iframes[i].contentWindow !== event.source) {\n                continue;\n            }\n\n            const space = iframes[i].parentElement;\n\n            if (space && space.className.indexOf('vimeo-space') !== -1) {\n                space.style.paddingBottom = `${event.data.data[0].bottom}px`;\n            }\n\n            break;\n        }\n    };\n\n    if (window.addEventListener) {\n        window.addEventListener('message', onMessage, false);\n    }\n    else if (window.attachEvent) {\n        window.attachEvent('onmessage', onMessage);\n    }\n}\n","/**\n * @module lib/postmessage\n */\n\nimport { getCallbacks, removeCallback, shiftCallbacks } from './callbacks';\n\n/**\n * Parse a message received from postMessage.\n *\n * @param {*} data The data received from postMessage.\n * @return {object}\n */\nexport function parseMessageData(data) {\n    if (typeof data === 'string') {\n        data = JSON.parse(data);\n    }\n\n    return data;\n}\n\n/**\n * Post a message to the specified target.\n *\n * @author Brad Dougherty <brad@vimeo.com>\n * @param {Player} player The player object to use.\n * @param {string} method The API method to call.\n * @param {object} params The parameters to send to the player.\n * @return {void}\n */\nexport function postMessage(player, method, params) {\n    if (!player.element.contentWindow || !player.element.contentWindow.postMessage) {\n        return;\n    }\n\n    let message = {\n        method\n    };\n\n    if (params !== undefined) {\n        message.value = params;\n    }\n\n    // IE 8 and 9 do not support passing messages, so stringify them\n    const ieVersion = parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\\d+).*$/, '$1'));\n    if (ieVersion >= 8 && ieVersion < 10) {\n        message = JSON.stringify(message);\n    }\n\n    player.element.contentWindow.postMessage(message, player.origin);\n}\n\n/**\n * Parse the data received from a message event.\n *\n * @author Brad Dougherty <brad@vimeo.com>\n * @param {Player} player The player that received the message.\n * @param {(Object|string)} data The message data. Strings will be parsed into JSON.\n * @return {void}\n */\nexport function processData(player, data) {\n    data = parseMessageData(data);\n    let callbacks = [];\n    let param;\n\n    if (data.event) {\n        if (data.event === 'error') {\n            const promises = getCallbacks(player, data.data.method);\n\n            promises.forEach((promise) => {\n                const error = new Error(data.data.message);\n                error.name = data.data.name;\n\n                promise.reject(error);\n                removeCallback(player, data.data.method, promise);\n            });\n        }\n\n        callbacks = getCallbacks(player, `event:${data.event}`);\n        param = data.data;\n    }\n    else if (data.method) {\n        const callback = shiftCallbacks(player, data.method);\n\n        if (callback) {\n            callbacks.push(callback);\n            param = data.value;\n        }\n    }\n\n    callbacks.forEach((callback) => {\n        try {\n            if (typeof callback === 'function') {\n                callback.call(player, param);\n                return;\n            }\n\n            callback.resolve(param);\n        }\n        catch (e) {\n            // empty\n        }\n    });\n}\n","import './lib/compatibility-check';\n\nimport Promise from 'native-promise-only';\n\nimport { storeCallback, getCallbacks, removeCallback, swapCallbacks } from './lib/callbacks';\nimport { getMethodName, isDomElement, isVimeoUrl, getVimeoUrl } from './lib/functions';\nimport { getOEmbedParameters, getOEmbedData, createEmbed, initializeEmbeds, resizeEmbeds } from './lib/embed';\nimport { parseMessageData, postMessage, processData } from './lib/postmessage';\n\nconst playerMap = new WeakMap();\nconst readyMap = new WeakMap();\n\nclass Player {\n     /**\n     * Create a Player.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @param {(HTMLIFrameElement|HTMLElement|string|jQuery)} element A reference to the Vimeo\n     *        player iframe, and id, or a jQuery object.\n     * @param {object} [options] oEmbed parameters to use when creating an embed in the element.\n     * @return {Player}\n     */\n    constructor(element, options = {}) {\n        /* global jQuery */\n        if (window.jQuery && element instanceof jQuery) {\n            if (element.length > 1 && window.console && console.warn) {\n                console.warn('A jQuery object with multiple elements was passed, using the first element.');\n            }\n\n            element = element[0];\n        }\n\n        // Find an element by ID\n        if (typeof element === 'string') {\n            element = document.getElementById(element);\n        }\n\n        // Not an element!\n        if (!isDomElement(element)) {\n            throw new TypeError('You must pass either a valid element or a valid id.');\n        }\n\n        // Already initialized an embed in this div, so grab the iframe\n        if (element.nodeName !== 'IFRAME') {\n            const iframe = element.querySelector('iframe');\n\n            if (iframe) {\n                element = iframe;\n            }\n        }\n\n        // iframe url is not a Vimeo url\n        if (element.nodeName === 'IFRAME' && !isVimeoUrl(element.getAttribute('src') || '')) {\n            throw new Error('The player element passed isn’t a Vimeo embed.');\n        }\n\n        // If there is already a player object in the map, return that\n        if (playerMap.has(element)) {\n            return playerMap.get(element);\n        }\n\n        this.element = element;\n        this.origin = '*';\n\n        const readyPromise = new Promise((resolve, reject) => {\n            const onMessage = (event) => {\n                if (!isVimeoUrl(event.origin) || this.element.contentWindow !== event.source) {\n                    return;\n                }\n\n                if (this.origin === '*') {\n                    this.origin = event.origin;\n                }\n\n                const data = parseMessageData(event.data);\n                const isReadyEvent = 'event' in data && data.event === 'ready';\n                const isPingResponse = 'method' in data && data.method === 'ping';\n\n                if (isReadyEvent || isPingResponse) {\n                    this.element.setAttribute('data-ready', 'true');\n                    resolve();\n                    return;\n                }\n\n                processData(this, data);\n            };\n\n            if (window.addEventListener) {\n                window.addEventListener('message', onMessage, false);\n            }\n            else if (window.attachEvent) {\n                window.attachEvent('onmessage', onMessage);\n            }\n\n            if (this.element.nodeName !== 'IFRAME') {\n                const params = getOEmbedParameters(element, options);\n                const url = getVimeoUrl(params);\n\n                getOEmbedData(url, params).then((data) => {\n                    const iframe = createEmbed(data, element);\n                    this.element = iframe;\n\n                    swapCallbacks(element, iframe);\n                    playerMap.set(this.element, this);\n\n                    return data;\n                }).catch((error) => reject(error));\n            }\n        });\n\n        // Store a copy of this Player in the map\n        readyMap.set(this, readyPromise);\n        playerMap.set(this.element, this);\n\n        // Send a ping to the iframe so the ready promise will be resolved if\n        // the player is already ready.\n        if (this.element.nodeName === 'IFRAME') {\n            postMessage(this, 'ping');\n        }\n\n        return this;\n    }\n\n    /**\n     * Get a promise for a method.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @param {string} name The API method to call.\n     * @param {Object} [args={}] Arguments to send via postMessage.\n     * @return {Promise}\n     */\n    callMethod(name, args = {}) {\n        return new Promise((resolve, reject) => {\n            // We are storing the resolve/reject handlers to call later, so we\n            // can’t return here.\n            // eslint-disable-next-line promise/always-return\n            return this.ready().then(() => {\n                storeCallback(this, name, {\n                    resolve,\n                    reject\n                });\n\n                postMessage(this, name, args);\n            });\n        });\n    }\n\n    /**\n     * Get a promise for the value of a player property.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @param {string} name The property name\n     * @return {Promise}\n     */\n    get(name) {\n        return new Promise((resolve, reject) => {\n            name = getMethodName(name, 'get');\n\n            // We are storing the resolve/reject handlers to call later, so we\n            // can’t return here.\n            // eslint-disable-next-line promise/always-return\n            return this.ready().then(() => {\n                storeCallback(this, name, {\n                    resolve,\n                    reject\n                });\n\n                postMessage(this, name);\n            });\n        });\n    }\n\n    /**\n     * Get a promise for setting the value of a player property.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @param {string} name The API method to call.\n     * @param {mixed} value The value to set.\n     * @return {Promise}\n     */\n    set(name, value) {\n        return Promise.resolve(value).then((val) => {\n            name = getMethodName(name, 'set');\n\n            if (val === undefined || val === null) {\n                throw new TypeError('There must be a value to set.');\n            }\n\n            return this.ready().then(() => {\n                return new Promise((resolve, reject) => {\n                    storeCallback(this, name, {\n                        resolve,\n                        reject\n                    });\n\n                    postMessage(this, name, val);\n                });\n            });\n        });\n    }\n\n    /**\n     * Add an event listener for the specified event. Will call the\n     * callback with a single parameter, `data`, that contains the data for\n     * that event.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @param {string} eventName The name of the event.\n     * @param {function(*)} callback The function to call when the event fires.\n     * @return {void}\n     */\n    on(eventName, callback) {\n        if (!eventName) {\n            throw new TypeError('You must pass an event name.');\n        }\n\n        if (!callback) {\n            throw new TypeError('You must pass a callback function.');\n        }\n\n        if (typeof callback !== 'function') {\n            throw new TypeError('The callback must be a function.');\n        }\n\n        const callbacks = getCallbacks(this, `event:${eventName}`);\n        if (callbacks.length === 0) {\n            this.callMethod('addEventListener', eventName).catch(() => {\n                // Ignore the error. There will be an error event fired that\n                // will trigger the error callback if they are listening.\n            });\n        }\n\n        storeCallback(this, `event:${eventName}`, callback);\n    }\n\n    /**\n     * Remove an event listener for the specified event. Will remove all\n     * listeners for that event if a `callback` isn’t passed, or only that\n     * specific callback if it is passed.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @param {string} eventName The name of the event.\n     * @param {function} [callback] The specific callback to remove.\n     * @return {void}\n     */\n    off(eventName, callback) {\n        if (!eventName) {\n            throw new TypeError('You must pass an event name.');\n        }\n\n        if (callback && typeof callback !== 'function') {\n            throw new TypeError('The callback must be a function.');\n        }\n\n        const lastCallback = removeCallback(this, `event:${eventName}`, callback);\n\n        // If there are no callbacks left, remove the listener\n        if (lastCallback) {\n            this.callMethod('removeEventListener', eventName).catch((e) => {\n                // Ignore the error. There will be an error event fired that\n                // will trigger the error callback if they are listening.\n            });\n        }\n    }\n\n    /**\n     * A promise to load a new video.\n     *\n     * @promise LoadVideoPromise\n     * @fulfill {number} The video with this id successfully loaded.\n     * @reject {TypeError} The id was not a number.\n     */\n    /**\n     * Load a new video into this embed. The promise will be resolved if\n     * the video is successfully loaded, or it will be rejected if it could\n     * not be loaded.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @param {number} id The id of the video.\n     * @return {LoadVideoPromise}\n     */\n    loadVideo(id) {\n        return this.callMethod('loadVideo', id);\n    }\n\n    /**\n     * A promise to perform an action when the Player is ready.\n     *\n     * @todo document errors\n     * @promise LoadVideoPromise\n     * @fulfill {void}\n     */\n    /**\n     * Trigger a function when the player iframe has initialized. You do not\n     * need to wait for `ready` to trigger to begin adding event listeners\n     * or calling other methods.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @return {ReadyPromise}\n     */\n    ready() {\n        const readyPromise = readyMap.get(this);\n        return Promise.resolve(readyPromise);\n    }\n\n    /**\n     * A promise to add a cue point to the player.\n     *\n     * @promise AddCuePointPromise\n     * @fulfill {string} The id of the cue point to use for removeCuePoint.\n     * @reject {RangeError} the time was less than 0 or greater than the\n     *         video’s duration.\n     * @reject {UnsupportedError} Cue points are not supported with the current\n     *         player or browser.\n     */\n    /**\n     * Add a cue point to the player.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @param {number} time The time for the cue point.\n     * @param {object} [data] Arbitrary data to be returned with the cue point.\n     * @return {AddCuePointPromise}\n     */\n    addCuePoint(time, data = {}) {\n        return this.callMethod('addCuePoint', { time, data });\n    }\n\n    /**\n     * A promise to remove a cue point from the player.\n     *\n     * @promise AddCuePointPromise\n     * @fulfill {string} The id of the cue point that was removed.\n     * @reject {InvalidCuePoint} The cue point with the specified id was not\n     *         found.\n     * @reject {UnsupportedError} Cue points are not supported with the current\n     *         player or browser.\n     */\n    /**\n     * Remove a cue point from the video.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @param {string} id The id of the cue point to remove.\n     * @return {RemoveCuePointPromise}\n     */\n    removeCuePoint(id) {\n        return this.callMethod('removeCuePoint', id);\n    }\n\n    /**\n     * A representation of a text track on a video.\n     *\n     * @typedef {Object} VimeoTextTrack\n     * @property {string} language The ISO language code.\n     * @property {string} kind The kind of track it is (captions or subtitles).\n     * @property {string} label The human‐readable label for the track.\n     */\n    /**\n     * A promise to enable a text track.\n     *\n     * @promise EnableTextTrackPromise\n     * @fulfill {VimeoTextTrack} The text track that was enabled.\n     * @reject {InvalidTrackLanguageError} No track was available with the\n     *         specified language.\n     * @reject {InvalidTrackError} No track was available with the specified\n     *         language and kind.\n     */\n    /**\n     * Enable the text track with the specified language, and optionally the\n     * specified kind (captions or subtitles).\n     *\n     * When set via the API, the track language will not change the viewer’s\n     * stored preference.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @param {string} language The two‐letter language code.\n     * @param {string} [kind] The kind of track to enable (captions or subtitles).\n     * @return {EnableTextTrackPromise}\n     */\n    enableTextTrack(language, kind) {\n        if (!language) {\n            throw new TypeError('You must pass a language.');\n        }\n\n        return this.callMethod('enableTextTrack', {\n            language,\n            kind\n        });\n    }\n\n    /**\n     * A promise to disable the active text track.\n     *\n     * @promise DisableTextTrackPromise\n     * @fulfill {void} The track was disabled.\n     */\n    /**\n     * Disable the currently-active text track.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @return {DisableTextTrackPromise}\n     */\n    disableTextTrack() {\n        return this.callMethod('disableTextTrack');\n    }\n\n    /**\n     * A promise to pause the video.\n     *\n     * @promise PausePromise\n     * @fulfill {void} The video was paused.\n     */\n    /**\n     * Pause the video if it’s playing.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @return {PausePromise}\n     */\n    pause() {\n        return this.callMethod('pause');\n    }\n\n    /**\n     * A promise to play the video.\n     *\n     * @promise PlayPromise\n     * @fulfill {void} The video was played.\n     */\n    /**\n     * Play the video if it’s paused. **Note:** on iOS and some other\n     * mobile devices, you cannot programmatically trigger play. Once the\n     * viewer has tapped on the play button in the player, however, you\n     * will be able to use this function.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @return {PlayPromise}\n     */\n    play() {\n        return this.callMethod('play');\n    }\n\n    /**\n     * A promise to unload the video.\n     *\n     * @promise UnloadPromise\n     * @fulfill {void} The video was unloaded.\n     */\n    /**\n     * Return the player to its initial state.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @return {UnloadPromise}\n     */\n    unload() {\n        return this.callMethod('unload');\n    }\n\n    /**\n     * A promise to get the autopause behavior of the video.\n     *\n     * @promise GetAutopausePromise\n     * @fulfill {boolean} Whether autopause is turned on or off.\n     * @reject {UnsupportedError} Autopause is not supported with the current\n     *         player or browser.\n     */\n    /**\n     * Get the autopause behavior for this player.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @return {GetAutopausePromise}\n     */\n    getAutopause() {\n        return this.get('autopause');\n    }\n\n    /**\n     * A promise to set the autopause behavior of the video.\n     *\n     * @promise SetAutopausePromise\n     * @fulfill {boolean} Whether autopause is turned on or off.\n     * @reject {UnsupportedError} Autopause is not supported with the current\n     *         player or browser.\n     */\n    /**\n     * Enable or disable the autopause behavior of this player.\n     *\n     * By default, when another video is played in the same browser, this\n     * player will automatically pause. Unless you have a specific reason\n     * for doing so, we recommend that you leave autopause set to the\n     * default (`true`).\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @param {boolean} autopause\n     * @return {SetAutopausePromise}\n     */\n    setAutopause(autopause) {\n        return this.set('autopause', autopause);\n    }\n\n    /**\n     * A promise to get the color of the player.\n     *\n     * @promise GetColorPromise\n     * @fulfill {string} The hex color of the player.\n     */\n    /**\n     * Get the color for this player.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @return {GetColorPromise}\n     */\n    getColor() {\n        return this.get('color');\n    }\n\n    /**\n     * A promise to set the color of the player.\n     *\n     * @promise SetColorPromise\n     * @fulfill {string} The color was successfully set.\n     * @reject {TypeError} The string was not a valid hex or rgb color.\n     * @reject {ContrastError} The color was set, but the contrast is\n     *         outside of the acceptable range.\n     * @reject {EmbedSettingsError} The owner of the player has chosen to\n     *         use a specific color.\n     */\n    /**\n     * Set the color of this player to a hex or rgb string. Setting the\n     * color may fail if the owner of the video has set their embed\n     * preferences to force a specific color.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @param {string} color The hex or rgb color string to set.\n     * @return {SetColorPromise}\n     */\n    setColor(color) {\n        return this.set('color', color);\n    }\n\n    /**\n     * A representation of a cue point.\n     *\n     * @typedef {Object} VimeoCuePoint\n     * @property {number} time The time of the cue point.\n     * @property {object} data The data passed when adding the cue point.\n     * @property {string} id The unique id for use with removeCuePoint.\n     */\n    /**\n     * A promise to get the cue points of a video.\n     *\n     * @promise GetCuePointsPromise\n     * @fulfill {VimeoCuePoint[]} The cue points added to the video.\n     * @reject {UnsupportedError} Cue points are not supported with the current\n     *         player or browser.\n     */\n    /**\n     * Get an array of the cue points added to the video.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @return {GetCuePointsPromise}\n     */\n    getCuePoints() {\n        return this.get('cuePoints');\n    }\n\n    /**\n     * A promise to get the current time of the video.\n     *\n     * @promise GetCurrentTimePromise\n     * @fulfill {number} The current time in seconds.\n     */\n    /**\n     * Get the current playback position in seconds.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @return {GetCurrentTimePromise}\n     */\n    getCurrentTime() {\n        return this.get('currentTime');\n    }\n\n    /**\n     * A promise to set the current time of the video.\n     *\n     * @promise SetCurrentTimePromise\n     * @fulfill {number} The actual current time that was set.\n     * @reject {RangeError} the time was less than 0 or greater than the\n     *         video’s duration.\n     */\n    /**\n     * Set the current playback position in seconds. If the player was\n     * paused, it will remain paused. Likewise, if the player was playing,\n     * it will resume playing once the video has buffered.\n     *\n     * You can provide an accurate time and the player will attempt to seek\n     * to as close to that time as possible. The exact time will be the\n     * fulfilled value of the promise.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @param {number} currentTime\n     * @return {SetCurrentTimePromise}\n     */\n    setCurrentTime(currentTime) {\n        return this.set('currentTime', currentTime);\n    }\n\n    /**\n     * A promise to get the duration of the video.\n     *\n     * @promise GetDurationPromise\n     * @fulfill {number} The duration in seconds.\n     */\n    /**\n     * Get the duration of the video in seconds. It will be rounded to the\n     * nearest second before playback begins, and to the nearest thousandth\n     * of a second after playback begins.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @return {GetDurationPromise}\n     */\n    getDuration() {\n        return this.get('duration');\n    }\n\n    /**\n     * A promise to get the ended state of the video.\n     *\n     * @promise GetEndedPromise\n     * @fulfill {boolean} Whether or not the video has ended.\n     */\n    /**\n     * Get the ended state of the video. The video has ended if\n     * `currentTime === duration`.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @return {GetEndedPromise}\n     */\n    getEnded() {\n        return this.get('ended');\n    }\n\n    /**\n     * A promise to get the loop state of the player.\n     *\n     * @promise GetLoopPromise\n     * @fulfill {boolean} Whether or not the player is set to loop.\n     */\n    /**\n     * Get the loop state of the player.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @return {GetLoopPromise}\n     */\n    getLoop() {\n        return this.get('loop');\n    }\n\n    /**\n     * A promise to set the loop state of the player.\n     *\n     * @promise SetLoopPromise\n     * @fulfill {boolean} The loop state that was set.\n     */\n    /**\n     * Set the loop state of the player. When set to `true`, the player\n     * will start over immediately once playback ends.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @param {boolean} loop\n     * @return {SetLoopPromise}\n     */\n    setLoop(loop) {\n        return this.set('loop', loop);\n    }\n\n    /**\n     * A promise to get the paused state of the player.\n     *\n     * @promise GetLoopPromise\n     * @fulfill {boolean} Whether or not the video is paused.\n     */\n    /**\n     * Get the paused state of the player.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @return {GetLoopPromise}\n     */\n    getPaused() {\n        return this.get('paused');\n    }\n\n    /**\n     * A promise to get the text tracks of a video.\n     *\n     * @promise GetTextTracksPromise\n     * @fulfill {VimeoTextTrack[]} The text tracks associated with the video.\n     */\n    /**\n     * Get an array of the text tracks that exist for the video.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @return {GetTextTracksPromise}\n     */\n    getTextTracks() {\n        return this.get('textTracks');\n    }\n\n    /**\n     * A promise to get the embed code for the video.\n     *\n     * @promise GetVideoEmbedCodePromise\n     * @fulfill {string} The `<iframe>` embed code for the video.\n     */\n    /**\n     * Get the `<iframe>` embed code for the video.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @return {GetVideoEmbedCodePromise}\n     */\n    getVideoEmbedCode() {\n        return this.get('videoEmbedCode');\n    }\n\n    /**\n     * A promise to get the id of the video.\n     *\n     * @promise GetVideoIdPromise\n     * @fulfill {number} The id of the video.\n     */\n    /**\n     * Get the id of the video.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @return {GetVideoIdPromise}\n     */\n    getVideoId() {\n        return this.get('videoId');\n    }\n\n    /**\n     * A promise to get the title of the video.\n     *\n     * @promise GetVideoTitlePromise\n     * @fulfill {number} The title of the video.\n     */\n    /**\n     * Get the title of the video.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @return {GetVideoTitlePromise}\n     */\n    getVideoTitle() {\n        return this.get('videoTitle');\n    }\n\n    /**\n     * A promise to get the native width of the video.\n     *\n     * @promise GetVideoWidthPromise\n     * @fulfill {number} The native width of the video.\n     */\n    /**\n     * Get the native width of the currently‐playing video. The width of\n     * the highest‐resolution available will be used before playback begins.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @return {GetVideoWidthPromise}\n     */\n    getVideoWidth() {\n        return this.get('videoWidth');\n    }\n\n    /**\n     * A promise to get the native height of the video.\n     *\n     * @promise GetVideoHeightPromise\n     * @fulfill {number} The native height of the video.\n     */\n    /**\n     * Get the native height of the currently‐playing video. The height of\n     * the highest‐resolution available will be used before playback begins.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @return {GetVideoHeightPromise}\n     */\n    getVideoHeight() {\n        return this.get('videoHeight');\n    }\n\n    /**\n     * A promise to get the vimeo.com url for the video.\n     *\n     * @promise GetVideoUrlPromise\n     * @fulfill {number} The vimeo.com url for the video.\n     * @reject {PrivacyError} The url isn’t available because of the video’s privacy setting.\n     */\n    /**\n     * Get the vimeo.com url for the video.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @return {GetVideoUrlPromise}\n     */\n    getVideoUrl() {\n        return this.get('videoUrl');\n    }\n\n    /**\n     * A promise to get the volume level of the player.\n     *\n     * @promise GetVolumePromise\n     * @fulfill {number} The volume level of the player on a scale from 0 to 1.\n     */\n    /**\n     * Get the current volume level of the player on a scale from `0` to `1`.\n     *\n     * Most mobile devices do not support an independent volume from the\n     * system volume. In those cases, this method will always return `1`.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @return {GetVolumePromise}\n     */\n    getVolume() {\n        return this.get('volume');\n    }\n\n    /**\n     * A promise to set the volume level of the player.\n     *\n     * @promise SetVolumePromise\n     * @fulfill {number} The volume was set.\n     * @reject {RangeError} The volume was less than 0 or greater than 1.\n     */\n    /**\n     * Set the volume of the player on a scale from `0` to `1`. When set\n     * via the API, the volume level will not be synchronized to other\n     * players or stored as the viewer’s preference.\n     *\n     * Most mobile devices do not support setting the volume. An error will\n     * *not* be triggered in that situation.\n     *\n     * @author Brad Dougherty <brad@vimeo.com>\n     * @param {number} volume\n     * @return {SetVolumePromise}\n     */\n    setVolume(volume) {\n        return this.set('volume', volume);\n    }\n}\n\ninitializeEmbeds();\nresizeEmbeds();\n\nexport default Player;\n"],"names":["arrayIndexOfSupport","Array","prototype","indexOf","postMessageSupport","window","postMessage","Error","UMD","name","context","definition","module","exports","define","amd","$AMD$","global","this","DEF","builtInProp","cycle","scheduling_queue","ToString","Object","toString","timer","setImmediate","fn","setTimeout","defineProperty","obj","val","config","err","Queue","first","last","item","Item","self","next","add","drain","f","call","schedule","isThenable","o","_then","o_type","then","notify","i","chain","length","state","success","failure","notifyIsolated","cb","ret","reject","msg","promise","TypeError","resolve","triggered","def","def_wrapper","MakeDefWrapper","$resolve$","apply","arguments","$reject$","iteratePromises","Constructor","arr","resolver","rejecter","idx","IIFE","$resolver$","MakeDef","Promise","executor","__NPO__","constructor","extractChain","push","$catch$","publicResolve","publicReject","PromisePrototype","Promise$resolve","Promise$reject","Promise$all","len","msgs","count","Promise$race","callbackMap","WeakMap","storeCallback","player","callback","playerCallbacks","get","element","set","getCallbacks","removeCallback","index","splice","shiftCallbacks","shift","swapCallbacks","oldElement","newElement","delete","getMethodName","prop","type","toLowerCase","substr","toUpperCase","isDomElement","HTMLElement","isInteger","value","isNaN","parseFloat","isFinite","Math","floor","isVimeoUrl","url","test","getVimeoUrl","oEmbedParameters","id","idOrUrl","replace","getOEmbedParameters","defaults","reduce","params","param","getAttribute","getOEmbedData","videoUrl","encodeURIComponent","hasOwnProperty","xhr","XDomainRequest","XMLHttpRequest","open","onload","status","json","JSON","parse","responseText","error","onerror","send","createEmbed","html","querySelector","div","document","createElement","innerHTML","appendChild","firstChild","setAttribute","initializeEmbeds","parent","elements","slice","querySelectorAll","handleError","console","forEach","data","catch","resizeEmbeds","onMessage","event","origin","iframes","contentWindow","source","space","parentElement","className","style","paddingBottom","bottom","addEventListener","attachEvent","parseMessageData","method","message","undefined","ieVersion","navigator","userAgent","stringify","processData","callbacks","promises","e","playerMap","readyMap","Player","options","jQuery","warn","getElementById","nodeName","iframe","has","readyPromise","isReadyEvent","isPingResponse","args","ready","eventName","callMethod","lastCallback","time","language","kind","autopause","color","currentTime","loop","volume"],"mappings":"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"}